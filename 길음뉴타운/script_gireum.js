/* script_gireum.js */

// 1. ë‹¨ì§€ë³„ ë§ˆì»¤ ë°ì´í„° (ì œê³µëœ íŒŒì¼ ë‚´ìš© ê¸°ë°˜ ìƒì„¸í™”)
const aptData = [
    {
        name: "ë˜ë¯¸ì•ˆê¸¸ìŒ ì„¼í„°í”¼ìŠ¤ (ëŒ€ì¥)",
        detail: "â€¢ ì—°ì‹: 2019ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 2352ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 14ì–µ(59ã¡), 17.1ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 7.3ì–µ(59ã¡), 8.5ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.1ëŒ€ (2,580ëŒ€, ì§€í•˜ì—°ê²°)<br>â€¢ í•™êµ°: ë¯¸ì•„ì´ˆ, ì†¡ì²œì´ˆ, ìˆ­ê³¡ì´ˆ (ë™ë³„ ë°°ì •)",
        top: "4.5%", left: "69.5%"
    },
    {
        name: "ë¡¯ë°ìºìŠ¬ í´ë¼ì‹œì•„",
        detail: "â€¢ ì—°ì‹: 2022ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 2029ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 14.2ì–µ(59ã¡), 18ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 7.5ì–µ(59ã¡), 8.8ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.2ëŒ€ (2,450ëŒ€, ì§€í•˜ì—°ê²°)<br>â€¢ í•™êµ°: ëŒ€ë¶€ë¶„ ìˆ­ê³¡ì´ˆ, ì¼ë¶€ ë¯¸ì•„ì´ˆ",
        top: "33%", left: "65%"
    },
    {
        name: "ê¸¸ìŒë‰´íƒ€ìš´ 9ë‹¨ì§€ ë˜ë¯¸ì•ˆ",
        detail: "â€¢ ì—°ì‹: 2010ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 1012ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 11.9ì–µ(59ã¡), 12.5ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 6.2ì–µ(59ã¡), 7.5ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.32ëŒ€ (1,344ëŒ€, ê³µê°„ ì—¬ìœ )<br>â€¢ í•™êµ°: ê¸¸ìŒì´ˆ(ì¼ë¶€), ìˆ­ê³¡ì´ˆ",
        top: "71%", left: "27%"
    },
    {
        name: "ê¸¸ìŒë‰´íƒ€ìš´ 6ë‹¨ì§€ ë˜ë¯¸ì•ˆ",
        detail: "â€¢ ì—°ì‹: 2007ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 977ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 12.7ì–µ(59ã¡), 13.8ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 5.8ì–µ(59ã¡), 7.0ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.28ëŒ€ (1,257ëŒ€, ê³µê°„ ì—¬ìœ )<br>â€¢ í•™êµ°: ë¯¸ì•„ì´ˆ",
        top: "49.5%", left: "45%"
    },
    {
        name: "ê¸¸ìŒë‰´íƒ€ìš´ 8ë‹¨ì§€ ë˜ë¯¸ì•ˆ",
        detail: "â€¢ ì—°ì‹: 2010ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 1497ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 11.2ì–µ(59ã¡), 12.9ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 6.0ì–µ(59ã¡), 7.3ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.2ëŒ€ (1,806ëŒ€)<br>â€¢ í•™êµ°: ê¸¸ì›ì´ˆ",
        top: "38%", left: "20%"
    },
    {
        name: "ê¸¸ìŒë‰´íƒ€ìš´ 4ë‹¨ì§€ eí¸í•œì„¸ìƒ",
        detail: "â€¢ ì—°ì‹: 2005ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 1605ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 9.9ì–µ(59ã¡), 12.6ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 5.2ì–µ(59ã¡), 6.5ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.15ëŒ€ (ì¼ë¶€ ë™ ì§€í•˜ ì—°ê²°X)<br>â€¢ í•™êµ°: ê¸¸ìŒì´ˆ (ë‹¨ì§€ ì˜† ì´ˆí’ˆì•„)",
        top: "10%", left: "25%"
    },
    {
        name: "ê¸¸ìŒë‰´íƒ€ìš´ 2ë‹¨ì§€ í‘¸ë¥´ì§€ì˜¤",
        detail: "â€¢ ì—°ì‹: 2005ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 1634ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 9ì–µ(59ã¡), 9.9ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 5.1ì–µ(59ã¡), 6.3ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.3ëŒ€ (ì¼ë¶€ ë™ ì§€í•˜ ì—°ê²°X)<br>â€¢ í•™êµ°: ê¸¸ì›ì´ˆ (ë„ë³´ 2ë¶„)",
        top: "3.5%", left: "7.5%"
    },
    {
        name: "ê¸¸ìŒ ë‰´íƒ€ìš´ 1ë‹¨ì§€ ë˜ë¯¸ì•ˆ",
        detail: "â€¢ ì—°ì‹: 2003ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 1125ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 10.7ì–µ(59ã¡), 11ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 4.8ì–µ(59ã¡), 6.0ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.16ëŒ€ (ì§€ìƒ/ì§€í•˜ í˜¼ì¬)<br>â€¢ í•™êµ°: ë¯¸ì•„ì´ˆ (ë„ë³´ 10ë¶„)",
        top: "53.5%", left: "30%"
    },
    {
        name: "ê¸¸ìŒ ë‰´íƒ€ìš´ 5ë‹¨ì§€ ë˜ë¯¸ì•ˆ",
        detail: "â€¢ ì—°ì‹: 2006ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 560ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 9.6ì–µ(59ã¡), 12.4ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 5.5ì–µ(59ã¡), 6.8ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.22ëŒ€ (ì§€í•˜ ì£¼ì°¨ì¥ ì—¬ìœ )<br>â€¢ í•™êµ°: ë¯¸ì•„ì´ˆ",
        top: "21%", left: "33%"
    },
	{
		name: "ê¸¸ìŒë™ë¶€ ì„¼íŠ¸ë ˆë¹Œ",
		detail: "â€¢ ì—°ì‹: 2003ë…„<br>â€¢ ì„¸ëŒ€ìˆ˜: 1377ì„¸ëŒ€<br>â€¢ ë§¤ë§¤: 8.3ì–µ(59ã¡), 9.9ì–µ(84ã¡)<br>â€¢ ì „ì„¸: 5.0ì–µ(59ã¡), 6.2ì–µ(84ã¡)<br>â€¢ ì£¼ì°¨: 1.11ëŒ€ (1,532ëŒ€)<br>â€¢ í•™êµ°: ë¯¸ì•„ì´ˆ ë°°ì • (ë„ë³´ 5ë¶„)",
		top: "14%", left: "53%" 
	}
];



// 2. ê¸¸ìŒ ë‰´íƒ€ìš´ ì „ë¬¸ ì…ì§€ ë¶„ì„ ë°ì´í„°
const areaInfo = {
    title: "ê¸¸ìŒ ë‰´íƒ€ìš´ (ë™ë¶ê¶Œ ëŒ€í‘œ ë¸Œëœë“œ íƒ€ìš´)",
    pros: "4í˜¸ì„  ê¸¸ìŒì—­ ì—­ì„¸ê¶Œì˜ ë›°ì–´ë‚œ ë„ì‹¬ ì ‘ê·¼ì„±, 1ë§Œ ì„¸ëŒ€ ì´ìƒ ë§¤ë¨¸ë“œê¸‰ ë¸Œëœë“œ ë‹¨ì§€ êµ¬ì„±, ì²´ê³„ì ì¸ í‰ì§€ ì¸í”„ë¼",
    cons: "ì¼ë¶€ ì™¸ê³½ ë‹¨ì§€ì˜ ê²½ì‚¬ ì§€í˜•, 2000ë…„ëŒ€ ì´ˆë°˜ ì…ì£¼í•œ ì´ˆê¸° ë‹¨ì§€ë“¤ì˜ ë…¸í›„í™” ì‹œì‘",
    details: {
        commercial: "í˜„ëŒ€ë°±í™”ì  ë¯¸ì•„ì , ë¡¯ë°ë°±í™”ì , ì´ë§ˆíŠ¸ ë“± ëŒ€í˜• ìƒê¶Œ ë°€ì°©. ë‹¨ì§€ ë‚´ ëŒ€ê·œëª¨ ìŠ¤íŠ¸ë¦¬íŠ¸ ìƒê°€ í™œì„±í™”ë¡œ ìŠ¬ì„¸ê¶Œ ì™„ë¹„.",
        academy: "ê¸¸ìŒì´ˆ/ì¤‘ì‹¬ì˜ ìš°ìˆ˜í•œ ê³µêµìœ¡ í™˜ê²½. ê¸¸ìŒì¤‘í•™êµëŠ” ì§€ì—­ ë‚´ ë†’ì€ í•™ì—…ì„±ì·¨ë„ë¥¼ ìë‘í•˜ë©° ì„±ë¶êµ¬ ë‚´ ì„ í˜¸ë„ ìµœìƒìœ„ê¶Œ.",
        redevelopment: "ì‹ ì›”ê³¡ 1êµ¬ì—­(ë¯¸ì•„ë¦¬ í…ì‚¬ìŠ¤ ë¶€ì§€) ì •ë¹„ì‚¬ì—… ë° ê¸¸ìŒ 5êµ¬ì—­ ì¬ê°œë°œ ë“± ì£¼ë³€ ë‚™í›„ ì§€ì—­ì˜ ì§€ì†ì ì¸ ì •ë¹„ í˜¸ì¬ ëŒ€ê¸° ì¤‘.",
        traffic: "4í˜¸ì„  ê¸¸ìŒì—­ì„ í†µí•œ ì¢…ë¡œ/ì‹œì²­ ë“± ë„ì‹¬ê¶Œ 20ë¶„ ë‚´ ì§„ì…. ë™ë¶ì„  ê²½ì „ì²  ê°œí†µ ì‹œ ê°•ë‚¨ê¶Œ ì—°ê²°ì„± ì¶”ê°€ ê°œì„  ì˜ˆì •.",
        slope: "ëŒ€ë¶€ë¶„ í‰ì§€ë¡œ êµ¬ì„±ë˜ì–´ ë³´í–‰ì´ ë§¤ìš° ì¾Œì í•¨. ë‹¨, 8ë‹¨ì§€ ì¼ë¶€ ë° ìƒì›”ê³¡ ê²½ê³„ ì§€ì—­ì€ ì§€í˜•ìƒ ì™„ë§Œí•œ ê²½ì‚¬ ì¡´ì¬."
    }
};

/* ê¸°ëŠ¥ ë¡œì§ */
function renderMarkers() {
    const container = document.getElementById('map-gireum');
    aptData.forEach(apt => {
        const marker = document.createElement('div');
        const isMaster = apt.name.includes("(ëŒ€ì¥)");
        marker.className = isMaster ? 'apt-marker master' : 'apt-marker';
        marker.style.top = apt.top;
        marker.style.left = apt.left;
        marker.innerHTML = `<i>${isMaster ? 'ğŸ‘‘' : 'ğŸ¢'}</i>`;
        marker.onclick = (e) => { e.stopPropagation(); showInfo(apt.name, apt.detail); };
        container.appendChild(marker);
    });
}

function updateAreaInfo() {
    const infoContainer = document.getElementById('area-detail-section');
    infoContainer.innerHTML = `
        <div class="analysis-card">
            <h3>ğŸ” ${areaInfo.title} ë¶„ì„</h3>
            <div class="summary">
                <p><strong>ğŸ‘ ì¥ì :</strong> ${areaInfo.pros}</p>
                <p><strong>ğŸ‘ ë‹¨ì :</strong> ${areaInfo.cons}</p>
            </div>
            <hr>
            <table class="info-table">
                <tr><th>ğŸ›ï¸ ìƒê¶Œ</th><td>${areaInfo.details.commercial}</td></tr>
                <tr><th>ğŸ“š í•™ì—…</th><td>${areaInfo.details.academy}</td></tr>
                <tr><th>ğŸ—ï¸ ì¬ê°œë°œ</th><td>${areaInfo.details.redevelopment}</td></tr>
                <tr><th>ğŸšŒ êµí†µ</th><td>${areaInfo.details.traffic}</td></tr>
                <tr><th>â›°ï¸ ì§€í˜•</th><td>${areaInfo.details.slope}</td></tr>
            </table>
        </div>`;
}

function showInfo(name, detail) {
    document.getElementById('aptName').innerText = name;
    document.getElementById('aptDetail').innerHTML = detail;
    document.getElementById('modalBg').style.display = 'block';
    document.getElementById('modalContent').style.display = 'block';
}

function hideInfo() {
    document.getElementById('modalBg').style.display = 'none';
    document.getElementById('modalContent').style.display = 'none';
}

window.onload = () => { renderMarkers(); updateAreaInfo(); };